package net.addictivesoftware.medicate.lib

trait CollectionUtils {

  /**
   * merges 2 hashmaps based on their keys, while executing the provided function on the values
   */
  def mergeMap[A, B](ms: List[Map[A, B]])(f: (B, B) => B): Map[A, B] =
    (Map[A, B]() /: (for (m <- ms; kv <- m) yield kv)) { (a, kv) =>
      a + (if (a.contains(kv._1)) kv._1 -> f(a(kv._1), kv._2) else kv)
    }
}